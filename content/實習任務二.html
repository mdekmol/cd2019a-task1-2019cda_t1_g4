<!doctype html>
<html><head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>CMSimfly</title> <link rel="stylesheet" type="text/css" href="./../static/cmsimply.css">
<script src="tipuesearch_content.js"></script>
<script src="./../static/jquery.js"></script>
<link rel="stylesheet" href="./../static/tipuesearch/css/tipuesearch.css">
<script src="./../static/tipuesearch/tipuesearch_set.js"></script>
<script src="./../static/tipuesearch/tipuesearch.min.js"></script>

<script type="text/javascript" src="./../static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCSharp.js"></script>
<link type="text/css" rel="stylesheet" href="./../static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<!-- for LaTeX equations 暫時不用
<script src="https://scrum-3.github.io/web/math/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>
-->
<!-- 暫時不用
<script src="./../static/fengari-web.js"></script>
<script type="text/javascript" src="./../static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->

<script type="text/javascript">
/*shorthand of $(document).ready(function(){};); */
$(function(){
    $("ul.topmenu> li:has(ul) > a").append('<div class="arrow-right"></div>');
    $("ul.topmenu > li ul li:has(ul) > a").append('<div class="arrow-right"></div>');
});
function doSearch() {
     $('#tipue_search_input').tipuesearch({
        newWindow: true, minimumLength: 2
     });
}
$(document).ready(doSearch);
</script>

</head><header><h1>產品協同設計第4組</h1> <confmenu>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="sitemap.html">Site Map</a></li>
<li><a href="./../reveal/index.html">reveal</a></li>
<li><a href="./../blog/index.html">blog</a></li>

</ul>
</confmenu></header>
<div class='container'><nav><ul id='css3menu1' class='topmenu'><div class="tipue_search_group"><input style="width: 6vw;" type="text" name="q" id="tipue_search_input" pattern=".{2,}" title="Press enter key to search" required></div><li><a href='各組期末報告說明.html'>各組期末報告說明</a><li><a href='執行規劃.html'>執行規劃</a><ul><li><a href='手足球系統模擬.html'>手足球系統模擬</a></li></ul><li><a href='設計與繪圖.html'>設計與繪圖</a><ul><li><a href='零組件尺寸分析.html'>零組件尺寸分析</a><li><a href='參數設計與繪圖.html'>參數設計與繪圖</a><li><a href='細部設計與 BOM.html'>細部設計與 BOM</a></li></ul><li><a href='V-rep 動態模擬.html'>V-rep 動態模擬</a><ul><li><a href='問題和討論.html'>問題和討論</a><li><a href='簡化模擬.html'>簡化模擬</a><li><a href='送球機構設計與模擬.html'>送球機構設計與模擬</a><li><a href='設計與模擬影片.html'>設計與模擬影片</a><li><a href='系統功能展示.html'>系統功能展示</a><ul><li><a href='手足球雙人鍵盤對打.html'>手足球雙人鍵盤對打</a><li><a href='手足球手控與電腦對打.html'>手足球手控與電腦對打</a><li><a href='手足球電腦與電腦對打.html'>手足球電腦與電腦對打</a><li><a href='模擬問題與討論.html'>模擬問題與討論</a><li><a href='送球搭配程式模擬.html'>送球搭配程式模擬</a></li></li></ul></ul><li><a href='總結報告.html'>總結報告</a><ul><li><a href='專案口頭簡報.html'>專案口頭簡報</a><li><a href='專案報告書.html'>專案報告書</a><ul><li><a href='如何編輯報告書.html'>如何編輯報告書</a></li></li></ul></ul><li><a href='w1~w10.html'>w1~w10</a><ul><li><a href='組員.html'>組員</a><li><a href='可攜系統.html'>可攜系統</a><ul><li><a href='SSH步驟.html'>SSH步驟</a><li><a href='可攜系統製作步驟.html'>可攜系統製作步驟</a><li><a href='start的製作.html'>start的製作</a><li><a href='stop的製作.html'>stop的製作</a></li></ul><li><a href='Kungit  製作.html'>Kungit  製作</a><ul><li><a href='kungit上推.html'>kungit上推</a></li></ul><li><a href='實習任務.html'>實習任務</a><ul><li><a href='實習任務一.html'>實習任務一</a><li><a href='實習任務二.html'>實習任務二</a><li><a href='實習任務三.html'>實習任務三</a></li></ul><li><a href='組員操作影片.html'>組員操作影片</a><ul><li><a href='建立虛擬主機.html'>建立虛擬主機</a></li></ul><li><a href='問題與討論.html'>問題與討論</a><li><a href='期中報告.html'>期中報告</a></li></ul></nav><section><div id="tipue_search_content">實習任務一 << <a href='實習任務一.html'>Previous</a> <a href='實習任務三.html'>Next</a> >> 實習任務三<br /><h1>實習任務二</h1>
<p><a href="http://www.coppeliarobotics.com/helpFiles/en/bubbleRobTutorial.htm">翻譯</a></p>
<p><a href="https://git-scm.com/book/zh-tw/v2">研讀Git 教材重點</a></p>
<p></p>
<h4>V-rep</h4>
<h5><img alt="" height="187" src="./../images/vrep.png" width="274"/></h5>
<p>V-rep的操作手冊:</p>
<p><a href="http://www.coppeliarobotics.com/helpFiles/">http://www.coppeliarobotics.com/helpFiles/</a> </p>
<p>V-rep Tutorial:</p>
<p><a href="http://www.coppeliarobotics.com/helpFiles/en/tutorials.htm">http://www.coppeliarobotics.com/helpFiles/en/tutorials.htm</a></p>
<p>BubbleRob tutorial:</p>
<p><a href="http://www.coppeliarobotics.com/helpFiles/en/bubbleRobTutorial.htm">http://www.coppeliarobotics.com/helpFiles/en/bubbleRobTutorial.htm</a></p>
<h5><span style="background-color: #00ff00;">內容簡介</span></h5>
<p>在創建Sphere時，要取消<span style="color: #ff0000;">create dynamic and respondable shape</span> 要是沒取消的話，Sphere會是dynamic(<span>☑</span><span>Body is dynamic</span>)，會利用上面的Bullet2.78 engine去執行。</p>
<p>V-rep本身沒有dynamic分析的能力。</p>
<p>把要放入機器人的機械或元件寫成model，這樣才會有版本可言。</p>
<h5><span style="background-color: #00ff00;">操作方式</span></h5>
<p><img alt="" height="35" src="./../images/vrep_2019-03-26_00-03-24.png" width="33"/>可開啟數學計算式，裡面的Collision跟Distance是Bubble Rob所具備的東西。</p>
<p><img alt="" height="41" src="./../images/vrep_2019-03-26_00-04-00.png" width="36"/>可平移物體的x,y,z軸。</p>
<p><img alt="" height="39" src="./../images/vrep_2019-03-26_00-04-11.png" width="32"/>可旋轉物體的方向。</p>
<p><img alt="" height="40" src="./../images/vrep_2019-03-26_00-04-42.png" width="41"/>可調整視角。</p>
<p><img alt="" height="41" src="./../images/vrep_2019-03-26_00-04-50.png" width="35"/>開啟當下選擇的物體的設定欄。</p>
<p><span style="color: #000000;">↪</span>Simulation Setting<span>➔At simulation end➔☑Reset scene to initial state(<span style="color: #ff0000;">回到最初的位置</span>)</span></p>
<p>快點Sphere前面的方格兩下<span>➔Shape➔View/modify geometry(<span style="color: #ff0000;">可調整物體大小</span>)</span></p>
<p><span>快點Sphere前面的方格兩下➔Shape➔Adjust color➔Ambient/diffuse component(<span style="color: #ff0000;">可調色</span>)</span></p>
<p><span><span>快點Sphere前面的方格兩下➔Common➔☑Object is model base(<span style="color: #ff0000;">變成model</span>)</span></span></p>
<p><span><span>快點Sphere前面的方格兩下➔Common<span>➔</span><span>☑Object/model can transfer or accept DNA(<span style="color: #ff0000;">model可用程式輸入</span>)</span></span></span></p>
<h5>Cone Proximity Sensor</h5>
<p>Menu bar<span>➔add➔proximity sensor➔cone type就可以創建一個錐形的接近傳感器。</span></p>
<p><span><img alt="" height="210" src="./../images/vrep_2019-03-26_22-07-47.png" width="300"/></span></p>
<p><span></span>設定proximity sensor<span>➔快點前面的圖示兩下➔<span style="color: #ff0000;">Show volume parameters</span>➔可調整</span></p>
<p><span>➔Offset(偏移)</span></p>
<p><span><img alt="" height="210" src="./../images/vrep_2019-03-26_22-08-05.png" width="300"/></span></p>
<p><span>➔Range(範圍)</span></p>
<p><span><img alt="" height="210" src="./../images/vrep_2019-03-26_22-08-31.png" width="300"/></span></p>
<p><span>➔Angle(角度)</span></p>
<p><span><img alt="" height="210" src="./../images/vrep_2019-03-26_22-08-45.png" width="300"/></span></p>
<p><span>設定proximity sensor<span>➔快點前面的圖示兩下➔<span style="color: #ff0000;">Show detection parameters</span></span></span></p>
<p><span style="color: #000000;">➔把Don't allow detections if distance smaller than的打勾取消掉，這串字的意思是如果距離小於此時則不允許檢測。</span></p>
<h4>v-rep 設計動態模擬</h4>
<p>在<span>V-REP</span>中，僅動態模擬有限數量的物件<span>(objects)</span>。這些是 shapes,joints和 force sensors，但它將取決於<span><a href="http://www.coppeliarobotics.com/helpFiles/en/scenes.htm">場景</a></span>結構和物體屬性，是否將動態模擬給定物件。在<span><a href="http://www.coppeliarobotics.com/helpFiles/en/simulation.htm">模擬</a></span>過程中可以輕鬆識別動態模擬對象，因為在<span><a href="http://www.coppeliarobotics.com/helpFiles/en/userInterface.htm#SceneHierarchy">場景層次結構中</a>(</span>scene hierarchy)對象名稱旁邊會出現以下圖標：</p>
<p><img caption="false" height="64" src="./../images/99.jpg" width="80"/></p>
<p>點擊場景層次結構中的圖標（僅在模擬期間）將顯示與對象的動態行為相關的一些信息。應該通過動態模擬但由於某種原因無法動態模擬的對象將顯示以下圖標：</p>
<p><img alt="" height="64" src="./../images/98.jpg" width="80"/></p>
<h6><strong>Static/non-static, respondable/non-respondable shapes</strong></h6>
<p> 根據動態模擬過程中的行為，物件可分為<span>4</span>組：</p>
<p><img alt="" height="127" src="./../images/97.jpg" width="253"/></p>
<p>在動態模擬期間，靜態形式不會受到影響（即它們相對於其從屬物件的位置是固定的），而非靜態物件將直接受到重力或其他約束（例如，動態啟用的關節，見下文）的影響。可響應的物件在動態碰撞期間相互影響（即它們產生相互<em>碰撞反應</em>，它們將相互反彈）。下圖說明了靜態<span>/</span>非靜態，可連動<span>/</span>不可連動的行為：</p>
<p><img alt="" height="251" src="./../images/96.jpg" width="524"/></p>
<p>[靜態<span>/</span>非靜態，可連動<span>/</span>不可連動的形式行為和交互<span>]</span></p>
<p> 兩個可連動的物件將一直產生碰撞反應，除非它們各自的碰撞互相不重疊。可以在shape dynamics properties對話框中設置靜態<span>/</span>非靜態，可連動<span>/</span>不可連動的形狀屬性以及隱藏碰撞</p>
<h5><strong>Dynamically enabled joints/force sensor</strong></h5>
<p>如果沒有其他限制，非靜態物件將下降（即受重力影響）。可以通過將兩個物件與<em>動態啟用的</em><span> <a href="http://www.coppeliarobotics.com/helpFiles/en/joints.htm"><span>關節</span></a></span>或<em>動態啟用的</em><span> <a href="http://www.coppeliarobotics.com/helpFiles/en/forceSensors.htm"><span>力傳感器</span></a></span>連接在一起來設置物件之間的動態約束。</p>
<p>動態啟用的關節是處於力或扭矩模式的關節或以混合方式操作的<span><a href="http://www.coppeliarobotics.com/helpFiles/en/jointProperties.htm"><span>關節</span></a></span>（參見<span><a href="http://www.coppeliarobotics.com/helpFiles/en/jointProperties.htm"><span>關節屬性</span></a></span>），並且具有作為從屬的物件和正好一個必須是非靜態物件的子物件。另外，可以在<em>環閉合配置中</em>涉及關節。在這種情況下，關節必須通過<span><a href="http://www.coppeliarobotics.com/helpFiles/en/dummies.htm"><span>虛擬 - </span><span>虛擬</span></a></span>鏈接連接到兩個形狀（其中鏈接類型必須是動態，重疊約束）。對於虛擬虛擬鏈接，請參閱<span><a href="http://www.coppeliarobotics.com/helpFiles/en/dummyPropertiesDialog.htm"><span>虛擬屬性</span></a></span>。</p>
<p>動態啟用的力傳感器是力傳感器，其具有作為物件的物件和恰好一個必須是非靜態形式的子物件。另外，可以將力傳感器包括在<em>環閉合配置中</em>。在這種情況下，力傳感器必須通過<span><a href="http://www.coppeliarobotics.com/helpFiles/en/dummies.htm"><span>虛擬 - </span><span>虛擬</span></a></span>鏈接（其中鏈接類型必須是動態，重疊約束）連接到兩個物件。對於虛擬鏈接，請參閱<span><a href="http://www.coppeliarobotics.com/helpFiles/en/dummyPropertiesDialog.htm"><span>虛擬屬性</span></a></span>。</p>
<p>下圖顯示了關節或力傳感器被認為是動態啟用的有效情況（假設關節<span>/</span>力傳感器和兩個物件位於動態模擬的<span><a href="http://www.coppeliarobotics.com/helpFiles/en/models.htm"><span>模型</span></a></span>中，這是默認情況）：</p>
<p><img alt="" height="254" src="./../images/95.jpg" width="600"/></p>
<p><img alt="" height="136" src="./../images/94.jpg" width="592"/></p>
<p>按照上述指南非常重要，以獲得動態啟用的關節或力傳感器。在模擬過程中，如果<span>V-REP</span>發現未動態啟用的力傳感器，它將在場景<span><a href="http://www.coppeliarobotics.com/helpFiles/en/userInterface.htm#SceneHierarchy">層次結構視圖</a></span>中的名稱旁邊顯示一個小警告圖標。對於力<span>/</span>扭矩模式中的關節或者應該以混合方式操作並且不是動態啟用的關節也是如此。</p>
<p>以下是一些不會動態啟用關節的示例情況：</p>
<p> 接頭不是有力或扭矩模式，接頭不是以混合方式運行。</p>
<p> 關節的從屬沒有形式。</p>
<p>關節有多個子物件。</p>
<p>關節直接連接到另一個關節。</p>
<p>關節（或它連接的兩種形式之一）位於未動態模擬的<span><a href="http://www.coppeliarobotics.com/helpFiles/en/models.htm"><span>模型</span></a></span>中</p>
<p>以下是一些不會動態啟用力傳感器的示例情況：</p>
<p>力傳感器的從屬沒有形式。</p>
<p>力傳感器有多個子物件。</p>
<p>力傳感器（或它連接的兩種形式之一）位於未動態模擬的<span><a href="http://www.coppeliarobotics.com/helpFiles/en/models.htm"><span>模型</span></a></span>中。</p>
<h4>BubbleRob</h4>
<p><span></span><span><span><span><span><span><span>1.建立BubbleRob本體<br/><span>新增一個</span><span>Sphere</span><span>，</span><span>X-size</span><span>為</span><span>0.2(</span><span>單位為m)</span><br/><span>在</span><span>object common properties</span><span>下的</span><span>object special properties</span><span>將</span><span>Collidable、Measurable、Renderable、Detectable</span><span>都打勾，將本體位置設定在Z軸(Along Z)0.02(須確認本體是照world移動)</span><span>接著在選單雙擊Sphere將物件名稱改為BubbleRob就完成本體設定。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="111" src="./../images/1.png" width="362"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><br/><span>2.建立Proxmity sensor</span><br/><span>在選單中建立一個</span><span>Proximity sensor</span><span>且選為</span><span>Cone type</span><span>將sensor利用旋轉功能在</span><span>Around Y及Z</span><span>輸入</span><span>90</span><span>位置為</span><span>X-coord</span><span>輸入</span><span>0.1</span><span>及</span><span>Z-coord</span><span>輸入</span><span>0.12</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="201" src="./../images/2.png" width="381"/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/></span></span></span></span></span></span><img alt="" height="202" src="./../images/3.png" width="376"/></p>
<p><span><span><span><span><span><span><span>接著設定sensor感應範圍，在選單點擊感測器符號開啟它的設定框，點擊</span><span>show volume </span><br/><span>parameter</span><span>開啟選單設定</span><span>Offset=0.005</span><span>、</span><span>Angle=30</span><span>、</span><span>Range=0.15</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="626" src="./../images/4.png" width="384"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>點擊</span><span>Show detection parameters</span><span>，將"</span><span>Don't allow detections if distance smaller than"</span><span>選項取消打勾。</span><br/><span>將感測器名稱設定為</span><span>bubbleRob_sensingNose</span><span>，就完成感測器設定了。</span><br/><span>在</span><span>Scene hireachy</span><span>(場景等級)將完成設定的sensor放在bubbleRob下</span><span>最後將兩項物件</span><span>Edit-&gt;"Make last selected object parent"</span><span>連結成一個物件。</span><br/><br/><span>3.建立bubbleRob的輪子</span><br/><span>建立一個</span><span>cylinder</span><span>尺寸為(0.08,0.08,0.02)，跟本體一樣將</span><span>object common properties</span><span>內的特殊屬性都打開，設定位置(0.05,0.1,0.04)和旋轉(-90,0,0)，此物件命名為</span><span>bubbleRob_leftWheel</span><span>，然後將完成的物件複製一份且將位置參數Y設定為-0.1，此物件命名為</span><span>bubbleRob_RightWheel</span><br/><span>設定</span><span>joint</span><span>(motor)</span><br/><span>Add-&gt;joint-&gt;Revolute</span><span>建立一個軸，建立完成按住ctrl選擇剛剛的</span><span>bubbleRob_leftWheel</span><span>然後在</span><span>postion</span><span>及</span><span> orientation</span><span>內選擇</span><span>apply to selection</span><span>來複製輪子的參數，這樣軸的位置就會跟左邊輪子一樣了。</span><br/><span>點擊開啟軸參數的設定框，將 </span><span>Show dynamic parameters</span><span>內的</span><span>enable the motor</span><span>以及底下的</span><span>Lock motor when target velocity is zero</span><span>都打勾，完成左邊輪軸設定後，用同樣方式製作右輪軸。</span><br/><span>最後將輪子層級放置在輪軸底下，輪軸層級則置於本體下</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="85" src="./../images/5.png" width="192"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><br/><span>4.建立slider</span><br/><span>開始模擬後發現機器人會向後翻轉，因為少了第三個接地點</span><br/><span>建立一個圓形物件(設定0.05)，一樣打開所有特殊屬性，將此物件命名為 </span><span>bubbleRob_slider</span><span>，在</span><span>shape dynamics properties</span><span>裡將物件設定為</span><span>無摩擦</span><span>。</span><br/><span>摩擦力相關的係數都調成0</span><br/><br/><span>接著建立</span><span><strong>Force sensor</strong></span><span>命名為</span><strong><span>bubbleRob_connection</span></strong><span>，將它往上提0.05</span><br/><span>，再跟剛剛的滑塊接合成一個物件，這個物件的位置設定X=(-0.07)，此物件的層級則放在bubbleRob底下，這樣就完成第三個接地點了，但是執行模擬後會發現滑塊會微微震動，那是因為滑塊跟本體互相碰撞了，為了避免這種狀況，開啟滑塊及本體的</span><span><strong>shape dynamics properties</strong></span><span>將</span><strong><span>local respondable mask</span></strong><span>分別設定為00001111及</span><br/><span>11110000這樣兩個物件就不會互相碰撞了。</span><br/><span>滑塊設定</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="123" src="./../images/6.png" width="504"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>本體設定</span><br/><br/></span></span></span></span></span></span></p>
<p><img alt="" height="149" src="./../images/7.png" width="383"/></p>
<p><span><span><span><span><span><span><br/></span></span></span></span></span></span><span><span><span><span><span><span><span>5.增加stability及Target velocity</span><span>測試</span><br/><span>點擊dynamic對話框內的</span><span>M=M*2</span><span>選項三次將輪子以及第三個支點的重量變成8倍，接著在軸的dynamic對話框將</span><span>Target velocity</span><span>設至50後開始演算，會發現bubbleRob會穩定的直線前進最後掉出平台，然後再將速度重置為0，測試就完成了。</span><br/><br/><br/><span>6.</span><span>collection object</span><span>及</span><span>Calculation module properties</span><br/><span>在collection對話框內用Add new collection，新增的集合是空的，將列表上的bubbleRob選擇後點選Add加進collection，命名為 bubbleRob_collection ，這樣bubbleRob底下的零件都包含集合裡。</span><br/><span>在選單點選</span><span>Calculation module</span><span>在</span><span>distance</span><span>下</span><span>Add new distance object</span><span>，選擇剛剛新增的</span><span>bubbleRob_collection</span><span>及</span><span>all other measurable objects in the scene</span><span>，</span><br/><span>命名為</span><span>bubbleRob_distance</span><span>，這個設定在之後會測量本體以及其他可碰撞物件之間的最小距離。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/></span></span></span></span></span></span><span><span><span><span><span><span><img alt="" height="138" src="./../images/8.png" width="398"/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>7.Graph設定</span><br/><span>新增一個Graph命名為</span><span>bubbleRob_graph</span><span>在列表上放置於bubbleRob底下將graph位置設定在(0,0,0.005)開啟graph properties，將</span><span>Display XYZ-planes</span><span>選項取消打勾，接著</span><span>Add new data stream to record</span><span>，視窗上方(</span><span>Data stream type</span><span>)選擇</span><span>Object: absolute x-position</span><span>下方(</span><span><span>Object / item to record</span>)</span><span>選擇</span><span>bubbleRob_graph</span><span>，在</span><span>Data stream recording list</span><span>會出現剛剛新增的設定，Y軸跟Z軸也用同樣方式做設定。</span><br/><span>為了能夠測量機器人跟環境之間的最小距離再新增一個設定上面選擇</span><span>Distance:segment length</span><span>下方選擇</span><span>bubbleRob_distance</span><span>。</span><br/><br/><span>將XYZ軸及距離設定分別命名為</span><span>bubbleRob_xpos、bubbleRob_ypos、bubbleRob_zpos、 bubbleRob_obstacle_dist。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="600" src="./../images/12.png" width="379"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>選擇bubbleRob_xpos在底下的</span><strong><span>Time graph properties</span></strong><span>將Visible取消掉，其他兩軸也用相同方式操作。</span><br/><span>接著在Edit 3D curves點選 Add new curve設定如圖</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="145" src="./../images/14.png" width="282"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>Curve width</span><span>設定為4，然後改成</span><span>Relative to world</span><span>，完成後測試就會發現機器人的路徑會以線顯示在螢幕上。</span><br/><br/><br/><span>8.建立cylinder</span><br/><span>增加數個(0.1,0.1,0.2)的cylinder包圍bubbleRob，將cylinder的特殊屬性參數全部打開，移動cylinder途中按著shift可以進行更細微的移動，按住ctrl則可以讓物件可以在正交方向移動。</span><br/><br/><span>9.model設定</span><br/><span>選擇bubbleRob後在</span><span><strong>object common properties</strong></span><span>內將</span><span><strong>Object is model base</strong></span><span>和</span><strong><span>Object/model can transfer or accept DNA</span></strong><span>都打勾，這樣bubbleRob邊界框就包含底下所有的物件在內了。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="618" src="./../images/15.png" width="388"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>接著將兩個joint、sensor跟graph都選起來然後將參數設定</span><strong><span>ignored by model bounding box</span></strong><span>，讓模型的邊界框略過sensor跟joint然後將joint跟sensor的camera visibility layer 2取消打勾改為打勾</span><br/><span>10，這樣在畫面上就不會看見軸跟sensor範圍了，最後將感測器、兩個輪子、支點、圖表的</span><strong><span>Select base of model instead</span></strong><span>都打勾，這項設定讓我們只能一次移動整個機器人而不是單個零件，能避免定位好的零件被移動。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="215" src="./../images/16.png" width="382"/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>10.感測器(vision sensor)</span><br/><span>增加一個新的感測器，位置、角度跟BubbleRob's proximity sensor同樣，在畫面上點選增加</span><span>Perspective type</span><span>的sensor，然後放到proximity sensor底下，新的sensor設定如下</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><img alt="" height="542" src="./../images/17.png" width="385"/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/></span></span></span></span></span></span><span><span><span><span><span><span><span>著點擊Show filter dialog開啟filter對話框，選擇</span><span>Edge detection on work image</span><span>然後按</span><span>Add</span><span>，新增的過濾組件要上移至第二層，移動完後點擊兩下剛剛設定的組件將Threshold(閾值)設定為0.2，設定到這邊基本上就完成了。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="368" src="./../images/18.png" width="385"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>完成sensor設定後新增一個</span><span>floating view</span><span>然後在它上面右鍵選擇(view-&gt;Associate view with selected vision sensor)將視窗綁定到剛剛設定完的sensor上(要確保sensor是被選擇的狀況)，接著試著開始模擬，視窗上能夠看見目標就成功了。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="219" src="./../images/19.png" width="374"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>11.程式:</span><span>位於工具列的script功能可以編輯code</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><span></span><br/><img alt="" height="49" src="./../images/20.png" width="49"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>最後的步驟要將code放進完成的模型內，選擇bubbleRob點選(</span><span>Add-&gt;Associated child script --&gt; Non threaded</span><span>)</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="328" src="./../images/21.png" width="491"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>新增一個</span><span><strong>non-threaded child script</strong></span><span>，接著點選bubbleRob旁邊的圖示</span><span>就能打開script，將code複製在原本的code後面關掉視窗就完成了。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><img alt="" height="62" src="./../images/22.png" width="198"/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>需注意code內部</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span> <img alt="" height="221" src="./../images/23.png" width="1045"/></span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/><span>leftMotor=sim.getObjectHandle("</span><span>bubbleRob_leftMotor</span><span>") -- Handle of the left motor</span><br/><span>rightMotor=sim.getObjectHandle("</span><span>bubbleRob_rightMotor</span><span>") -- Handle of the right motor</span><br/><span>noseSensor=sim.getObjectHandle("</span><span>bubbleRob_sensingNose</span><span>") -- Handle of the proximity sensor</span><br/><span>紅框內的名稱，如果大小寫或是名稱不同程式就沒辦法成功執行。</span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><br/></span></span></span></span></span></span><span><span><span><span><span><span><img alt="" height="858" src="./../images/24.png" width="1461"/><br/><span></span></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><span>bubbleRob在模擬時會自動避開路徑上的物件，且畫面有能調節速度的面板。</span><br/><br/><br/><br/></span></span></span></span></span></span></p>
<h4>BubbleRob模擬影片</h4>
<p><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/63FEGLr95UM" width="560"></iframe></p>
<p>40623110翁俊揚<iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/DpmiHMTUhQY" width="560"></iframe></p>
<p><span>40623102 吳柔燕</span></p>
<p><span><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/xPkmV1GhaGE" width="560"></iframe></span></p>
<p>40623124葉修宏</p>
<p><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/piTxLAcaSn4" width="560"></iframe><br/><br/></p>
<p>檔案位置：<a href="https://github.com/mdekmol/cd2019a-task1-2019cda_t1_g4/raw/gh-pages/TTT%E6%AA%94/bubbleRob.ttt">BubbleRob.ttt</a></p>
<p>40623111 王映捷</p>
<p><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/jDnE_UdxXBw" width="560"></iframe></p>
<p>40623152 潘季宏</p>
<p><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/UiCumX9kC8Q" width="560"></iframe></p>
<p>40623144 林昭權</p>
<p><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/ZFP8qqO2nSU" width="560"></iframe></p>
<p><span>40623121蔡朝旭</span></p>
<p><span><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/dSsL5yjKo0Y" width="560"></iframe></span></p>
<p><span id="__caret">_</span></p>
<h4>football table</h4>
<p><span><span><span><span><span><span>台桌繪製影片（簡易版）：<br/><br/><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="//www.youtube.com/embed/zJDJhRIkwFI" width="560"></iframe><br/><br/></span></span></span></span></span></span></p>
<p><span><span><span><span><span><span>球員繪製影片：</span></span></span></span></span></span></p>
<p><span><span><span><span><span><span><iframe allowfullscreen="allowfullscreen" height="314" src="//www.youtube.com/embed/k035bbu9-_Q" width="560"></iframe></span></span></span></span></span></span></p>
<br />實習任務一 << <a href='實習任務一.html'>Previous</a> <a href='實習任務三.html'>Next</a> >> 實習任務三</div></section></div></body></html>